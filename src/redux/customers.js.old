import fetch from 'cross-fetch';

// export function loadProject (id) {
//     return function (dispatch) {
//       dispatch({ type: 'PROJECT_LOADING', data })
//       return fetch(`/projects/${id}`)
//         .then(data => dispatch({ type: 'PROJECT_LOADED', data }))
//         .catch(err => dispatch({ type: 'PROJECT_ERROR', err }))
//     }
//   }

// export function getCustomers() { 
//     return function(dispatch) {
//         dispatch({ type: 'GET_CUSTOMERS', data })
//         return fetch( 'http://10.0.2.2:3000/customers' )
//         .then(data => dispatch({ type: 'CUSTOMERS_LOADED', data }))
//         .catch(err => dispatch({ type: 'CUSTOMERS_ERROR', err }))
//     }
// }

// async getCustomerDetailsAsync(id) {
//     try {
//         // let url = 'http://10.0.2.2:3000/customer?id=' + id; // node_server
//         let url = 'http://10.0.2.2:3000/customers/' + id; // express-app
//         let response = await fetch(url);
//         let responseJson = await response.json();
//         this.setState({ debug: JSON.stringify(responseJson) });
//         // this.setState({ customerDetail: (responseJson.data.length > 0) ? responseJson.data[0] : {} }); // node_server
//         this.setState({ customerDetail: responseJson.data }); // express-app
//     } catch (error) {
//         console.error(error);
//     }
// }

// async addCustomerAsync() {
//     const bodyJson = this.state.newCustomer;
//     try {
//         // let url = 'http://10.0.2.2:3000/customer'; // node_server
//         let url = 'http://10.0.2.2:3000/customers'; // express-app
//         let response = await fetch(url, {
//             method: 'POST',
//             headers: { 'Content-Type': 'application/json' },
//             body: JSON.stringify(bodyJson)
//         });
//         // response error handling here
//         let responseJson = await response.json();
//         this.setState({ debug: JSON.stringify(responseJson) });
//         if (response.ok) {
//             this.setState({ newCustomer: { firstName: '', lastName: '' } });
//             this.getCustomersAsync();
//         }
//     } catch (error) {
//         console.error(error);
//     }
// }

// async updateCustomerAsync() {
//     const bodyJson = this.state.customerDetail;
//     try {
//         // let url = 'http://10.0.2.2:3000/customer'; // node_server
//         let url = 'http://10.0.2.2:3000/customers'; // express-app
//         let response = await fetch(url, {
//             method: 'PUT',
//             headers: { 'Content-Type': 'application/json' },
//             body: JSON.stringify(bodyJson)
//         });
//         // response error handling here
//         let responseJson = await response.json();
//         this.setState({ debug: JSON.stringify(responseJson) });
//         if (response.ok) {
//             this.getCustomersAsync();
//         }
//     } catch (error) {
//         console.error(error);
//     }
// }

// async deleteCustomerAsync(id) {
//     try {
//          // let url = 'http://10.0.2.2:3000/customer?id=' + id; // node_server
//         let url = 'http://10.0.2.2:3000/customers/' + id; // express-app
//         let response = await fetch(url, {
//             method: 'DELETE',
//             headers: { 'Content-Type': 'application/json' },
//             body: ''
//         });
//         // response error handling here
//         let responseJson = await response.json();
//         this.setState({ debug: JSON.stringify(responseJson) });
//         if (response.ok) {
//             this.getCustomersAsync();
//         }
//     } catch (error) {
//         console.error(error);
//     }
// }

